<!doctype html>
<html lang="en">
  <head>
    <!-- 1. Static CSS (CRITICAL for preventing Layout Shift) -->
    <link rel="stylesheet" href="/styles/output.css" />
    <link rel="stylesheet" href="/styles/rm.css" />
    <!-- 1. Load Components -->
    <script type="module" src="/components/rm-head.js"></script>
    <script type="module" src="/components/rm-navheader.js"></script>
    <script type="module" src="/components/rm-footer.js"></script>

    <!-- 2. Configure Page Head -->
    <rm-head page-title="Users v2" script-name="users.js"></rm-head>
  </head>
  <body>
    <rm-navheader class="block min-h-14 bg-slate-100 py-2"></rm-navheader>

    <main class="mt-4 w-4xl">
      <article>
        <div class="ml-12 text-4xl font-semibold text-slate-700">Users</div>
        <section>
          <div class="mx-8 mt-8 mb-4 text-2xl text-slate-600">Add, amend and delete</div>

          <button
            id="getUsersBtn"
            type="button"
            class="my-8 ml-8 rounded-sm bg-slate-600 px-2 py-1.5 text-sm font-semibold text-white shadow-xs hover:bg-slate-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-600"
          >
            Get Test Users
          </button>

          <div id="allUsersResponse" class="mx-8"></div>
        </section>

        <section class="pt-8 pl-8">
          <div class="mb-6 w-full max-w-2xl">
            <h3 class="mb-3 text-lg font-semibold text-slate-700">Select Mode:</h3>
            <div class="flex gap-6">
              <label class="flex cursor-pointer items-center gap-2">
                <input
                  type="radio"
                  name="mode"
                  value="add"
                  id="modeAdd"
                  checked
                  class="h-4 w-4 text-slate-600 focus:ring-slate-500"
                />
                <span class="font-medium text-slate-700">Add New User</span>
              </label>
              <label class="flex cursor-pointer items-center gap-2">
                <input
                  type="radio"
                  name="mode"
                  value="amend"
                  id="modeAmend"
                  class="h-4 w-4 text-slate-600 focus:ring-slate-500"
                />
                <span class="font-medium text-slate-700">Amend User</span>
              </label>
              <label class="flex cursor-pointer items-center gap-2">
                <input
                  type="radio"
                  name="mode"
                  value="delete"
                  id="modeDelete"
                  class="h-4 w-4 text-slate-600 focus:ring-slate-500"
                />
                <span class="font-medium text-slate-700">Delete User</span>
              </label>
            </div>
          </div>
        </section>

        <section class="pt-4 pl-8">
          <div class="w-full max-w-2xl rounded-sm bg-slate-200/10 p-8 shadow-xs">
            <h2 id="formTitle" class="mb-6 text-2xl font-bold text-slate-700">Add New User</h2>

            <form id="userForm" class="space-y-4">
              <!--<div id="idFieldContainer" class="flex hidden items-center gap-4">-->
              <div id="idFieldContainer" class="flex items-center gap-4">
                <label for="user_id" class="w-32 text-right font-medium text-slate-700">
                  User ID:
                </label>
                <input
                  type="number"
                  id="user_id"
                  name="user_id"
                  min="1"
                  class="flex-1 rounded-md border border-slate-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-slate-500 focus:outline-none"
                  placeholder="Enter user ID"
                />
              </div>

              <div class="flex items-center gap-4">
                <label for="user_name" class="w-32 text-right font-medium text-slate-700">
                  Username:
                </label>
                <input
                  type="text"
                  id="user_name"
                  name="user_name"
                  required
                  class="flex-1 rounded-md border border-slate-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-slate-500 focus:outline-none"
                  placeholder="Enter username"
                />
              </div>

              <div class="flex items-center gap-4">
                <label for="first_name" class="w-32 text-right font-medium text-slate-700">
                  First Name:
                </label>
                <input
                  type="text"
                  id="first_name"
                  name="first_name"
                  required
                  class="flex-1 rounded-md border border-slate-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-slate-500 focus:outline-none"
                  placeholder="Enter first name"
                />
              </div>

              <div class="flex items-center gap-4">
                <label for="surname" class="w-32 text-right font-medium text-slate-700">
                  Surname:
                </label>
                <input
                  type="text"
                  id="surname"
                  name="surname"
                  class="flex-1 rounded-md border border-slate-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-slate-500 focus:outline-none"
                  placeholder="Enter surname"
                />
              </div>

              <div class="flex items-center gap-4">
                <label for="status_setting" class="w-32 text-right font-medium text-slate-700">
                  Status:
                </label>
                <select
                  id="status_setting"
                  name="status_setting"
                  required
                  class="flex-1 rounded-md border border-slate-300 bg-slate-200/10 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-slate-500 focus:outline-none"
                >
                  <option value="Active" selected>Active</option>
                  <option value="Suspended">Suspended</option>
                  <option value="Deleted">Deleted</option>
                </select>
              </div>

              <div class="flex items-center gap-4 pt-4">
                <div class="w-32"></div>

                <button
                  id="formButton"
                  type="submit"
                  class="flex-1 rounded-md bg-slate-600 px-6 py-2 font-semibold text-white transition duration-200 ease-in-out hover:bg-slate-700 focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:outline-none"
                >
                  Add User
                </button>
              </div>

              <div class="flex items-center gap-4">
                <div class="min-w-32"></div>
                <div id="responseMessage" class="mt-2 hidden flex-1"></div>
              </div>
            </form>
          </div>
        </section>
      </article>
    </main>

    <rm-footer></rm-footer>

    <script src="/scripts/users.js"></script>
  </body>
</html>
